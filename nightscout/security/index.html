
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../NS-logo-std.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.6">
    
    
      
        <title>Secure your site - Nightscout</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a57b2b03.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/admonitions.css">
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#nightscout-security" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Nightscout" class="md-header__button md-logo" aria-label="Nightscout" data-md-component="logo">
      
  <img src="../../NS-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Nightscout
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Secure your site
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        Introduction
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../new_user/" class="md-tabs__link">
        DIY Nightscout
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../vendors/T1Pal/new_user/" class="md-tabs__link">
        Paid Hosting
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../setup_variables/" class="md-tabs__link">
        Configure
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../discover/" class="md-tabs__link md-tabs__link--active">
        Use
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../update/update/" class="md-tabs__link">
        Update
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../troubleshoot/troublehoot/" class="md-tabs__link">
        Troubleshoot
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../translate/" class="md-tabs__link">
      Translation
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Nightscout" class="md-nav__button md-logo" aria-label="Nightscout" data-md-component="logo">
      
  <img src="../../NS-logo.png" alt="logo">

    </a>
    Nightscout
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Introduction" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        What is Nightscout?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../uploader/uploaders/" class="md-nav__link">
        How do I upload my data?
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          DIY Nightscout
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="DIY Nightscout" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          DIY Nightscout
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../new_user/" class="md-nav__link">
        Classic DIY Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../vendors/heroku/new_user/" class="md-nav__link">
        Heroku Hobby plan
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../vendors/heroku/hobbyplan/" class="md-nav__link">
        Heroku Hobby plan upgrade
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../update/upd_stack/" class="md-nav__link">
        Heroku Stack Update
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../vendors/heroku/" class="md-nav__link">
        Heroku Multiple Factor Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../update/downgrade/" class="md-nav__link">
        Heroku Downgrade
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Paid Hosting
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Paid Hosting" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Paid Hosting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../vendors/T1Pal/new_user/" class="md-nav__link">
        T1Pal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../vendors/10BE/" class="md-nav__link">
        10BE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Configure
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configure" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Configure
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../setup_variables/" class="md-nav__link">
        Configure your Nightscout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../uploader/setup/" class="md-nav__link">
        Configure your Uploader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../downloaders/" class="md-nav__link">
        Follower Devices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../wearable/" class="md-nav__link">
        Nightscout on your watch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../multiadmin/" class="md-nav__link">
        Running multiple sites
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../close_loop/" class="md-nav__link">
        Closed-loop Systems
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Use
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Use" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Use
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../discover/" class="md-nav__link">
        Discover your site
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Secure your site
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Secure your site
      </a>
      
        


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nightscout-security" class="md-nav__link">
    Nightscout Security
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-and-safekeeping" class="md-nav__link">
    Security and safekeeping
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#https-and-certificate-errors" class="md-nav__link">
    HTTPS and certificate errors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#administration-messages" class="md-nav__link">
    Administration messages
  </a>
  
    <nav class="md-nav" aria-label="Administration messages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#im-seeing-a-message-about-the-api_secret-being-weak" class="md-nav__link">
    I'm seeing a message about the API_SECRET being weak
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#im-seeing-a-message-about-authentication-failures" class="md-nav__link">
    I'm seeing a message about authentication failures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#im-seeing-a-message-nightscout-is-readable-by-the-world" class="md-nav__link">
    I'm seeing a message Nightscout is readable by the world
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#renaming-the-nightscout-site" class="md-nav__link">
    Renaming the Nightscout site
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-turn-off-unauthorized-access" class="md-nav__link">
    How to Turn Off Unauthorized Access
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-authentication-tokens-for-users" class="md-nav__link">
    Create Authentication Tokens for Users
  </a>
  
    <nav class="md-nav" aria-label="Create Authentication Tokens for Users">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#roles" class="md-nav__link">
    Roles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-token" class="md-nav__link">
    Create a Token
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#developers-api-authorization" class="md-nav__link">
    Developers: API authorization
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/" class="md-nav__link">
        Reports
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../profile_editor/" class="md-nav__link">
        Profile Editor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../admin_tools/" class="md-nav__link">
        Admin Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pushover/" class="md-nav__link">
        Remote Notifications
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Update
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Update" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Update
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../update/update/" class="md-nav__link">
        Updating your site
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../update/redeploy/" class="md-nav__link">
        Redeploying
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../update/dev_branch/" class="md-nav__link">
        Deploy another GitHub branch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../update/newdatabase/" class="md-nav__link">
        Attach a new Atlas database
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Troubleshoot
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Troubleshoot" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Troubleshoot
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshoot/troublehoot/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshoot/dexcom_bridge/" class="md-nav__link">
        Dexcom bridge
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshoot/connection_string/" class="md-nav__link">
        Connection failure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshoot/cleanup/" class="md-nav__link">
        Cleanup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../translate/" class="md-nav__link">
        Translation
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nightscout-security" class="md-nav__link">
    Nightscout Security
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-and-safekeeping" class="md-nav__link">
    Security and safekeeping
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#https-and-certificate-errors" class="md-nav__link">
    HTTPS and certificate errors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#administration-messages" class="md-nav__link">
    Administration messages
  </a>
  
    <nav class="md-nav" aria-label="Administration messages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#im-seeing-a-message-about-the-api_secret-being-weak" class="md-nav__link">
    I'm seeing a message about the API_SECRET being weak
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#im-seeing-a-message-about-authentication-failures" class="md-nav__link">
    I'm seeing a message about authentication failures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#im-seeing-a-message-nightscout-is-readable-by-the-world" class="md-nav__link">
    I'm seeing a message Nightscout is readable by the world
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#renaming-the-nightscout-site" class="md-nav__link">
    Renaming the Nightscout site
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-turn-off-unauthorized-access" class="md-nav__link">
    How to Turn Off Unauthorized Access
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-authentication-tokens-for-users" class="md-nav__link">
    Create Authentication Tokens for Users
  </a>
  
    <nav class="md-nav" aria-label="Create Authentication Tokens for Users">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#roles" class="md-nav__link">
    Roles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-token" class="md-nav__link">
    Create a Token
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#developers-api-authorization" class="md-nav__link">
    Developers: API authorization
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Secure your site</h1>
                
                <h2 id="nightscout-security">Nightscout Security<a class="headerlink" href="#nightscout-security" title="Permanent link">⌁</a></h2>
<p><span style="font-size:smaller;"><strong>APPLIES TO:</strong></span> <img src="../../vendors/img/Heroku.png" style="zoom:80%;" /></p>
<p>For <img src="../../vendors/img/T1Pal.png" style="zoom:80%;" /> users, your page is already secured and views can be defined from your <a href="https://t1pal.com/account/sites/my#Views">Share panel</a>.</p>
<hr />
<p>Nightscout security model is based on the following assumptions:</p>
<ul>
<li>The users of Nightscout only use it to process information about themselves or someone they're legally responsible for and thus own all of the data being stored in Nightscout.</li>
<li>Given the user / operator of Nightscout is assumed to have full ownership of the data stored in Nightscout, it is assumed the user has full responsibility around the use and sharing of the data.</li>
<li>Nightscout provides a set of APIs for reading and writing data into the Nightscout database. Nightscout itself does not directly interface with any devices. Nightscout users should verify any applications using the APIs to process the data in Nightscout have been implemented in a secure fashion and have data validation processes in place in case an unauthorized user gains access to Nightscout and alters the data.</li>
<li>If unauthorized users gain access to the server being used to host Nightscout, the database used with Nightscout or any device used to access the Nightscout APIs, the entire system's security has to be considered compromised and the user must assume any data stored in the system might be altered and thus should not be trusted.</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Personal use only</p>
<p>The system has not been designed for scenarios where a third party operates a Nightscout installation on behalf of others and if such installations are made, both the users and operators of such installations need to understand there is a large body of legislation across the world that covers use cases and data storage enabled by Nightscout and the liability issues around such installations are extremely complicated.</p>
</div>
<p></br></p>
<h2 id="security-and-safekeeping">Security and safekeeping<a class="headerlink" href="#security-and-safekeeping" title="Permanent link">⌁</a></h2>
<ul>
<li>Use the same email address for all accounts so you'll have access to all your accounts after installation. <strong>Do not use a disposable email address</strong> - use something you know you can access later.</li>
<li>Use a safe password for all accounts related to Nightscout, including the password for the email account for the accounts. We highly recommend using a password manager such as 1Password and allowing it to generate the passwords for you.</li>
<li>Do not reuse the same password for all your accounts.</li>
<li>Do not use your Dexcom or CareLink user name or password for Nightscout components.</li>
<li>Do not use the API_SECRET for the Atlas database password.</li>
<li>Do not share the API_SECRET or access tokens with administration privileges to anyone, ever. If you need to grant access to Nightscout, see below for instructions how to create access tokens for this purpose.</li>
<li>Do not use Nightscout or any related applications on rooted and/or otherwise compromised devices, and ensure you always have the latest operating system and virus protection updates installed.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Salesforce requires two-factor-authentication for more Heroku security, this is mandatory starting Feb 2022. For an overview of possible methods see <a href="../../vendors/heroku">here</a>.</p>
</div>
<p></br></p>
<h2 id="https-and-certificate-errors">HTTPS and certificate errors<a class="headerlink" href="#https-and-certificate-errors" title="Permanent link">⌁</a></h2>
<p>One of the core security mechanisms on web is the SSL encryption applied to HTTP connections. When installed to Heroku, Nightscout by default forces connections to use HTTPS, thus ensuring the connection is encrypted. For secure Nightscout use, it's crucial that you assume something is wrong if you ever see your browser complain the SSL certificate of your Nightscout site does not match or work as expected by the browser. This can be a sign of a so called Man In The Middle (MITM) attack and proceeding with the problematic certificate will subsequently compromise your Nightscout site. If you see an error related to SSL, you should immediately rename the site (see below for instructions).</p>
<p></br></p>
<h2 id="administration-messages">Administration messages<a class="headerlink" href="#administration-messages" title="Permanent link">⌁</a></h2>
<p>Nightscout 14.2 introduced a new feature called Admin Notifies, which can warn you about issues with Nightscout installation and security issues.</p>
<p>If you see the red megaphone in your navigation bar, it means you have messages in the queue.</p>
<p><img src="../img/Security02.png" style="zoom:80%;" /></p>
<p>You have to be authenticated to Nightscout using the API_SECRET or an authentication token that has administration access to read the messages.</p>
<p><img src="../img/Security03.png" style="zoom:50%;" /></p>
<p>There are multiple types of messages that might be shown:</p>
<p></br></p>
<h3 id="im-seeing-a-message-about-the-api_secret-being-weak">I'm seeing a message about the API_SECRET being weak<a class="headerlink" href="#im-seeing-a-message-about-the-api_secret-being-weak" title="Permanent link">⌁</a></h3>
<p><img src="../img/Security04.png" style="zoom:50%;" /></p>
<p>This message is shown when cryptographic analysis if the API_SECRET shows the secret is easily guessable by a computer and should be changed. Things you can do to have this message go away:</p>
<ul>
<li>The API_SECRET must be at least 12 characters long, but making it even longer makes it more secure</li>
<li>Use a mix of small and CAPITAL letters, numbers and non-alphanumeric characters such as !#%&amp;/()= in the API_SECRET
  <em>Note: make sure your uploader and downloaders can handle special characters, you might need to express them using <a href="https://en.wikipedia.org/wiki/Percent-encoding#Percent-encoding_reserved_characters">Percent encoding</a> for example an API_SECRET like <code>D0n't*H4ck@M3%</code> would be expressed as: <code>D0n%27t%2AH4ck%40M3%25</code></em></li>
<li>Consider generating the API_SECRET using a password manager</li>
</ul>
<p>The API_SECRET is set in the Heroku Settings (see <a href="../setup_variables/#editing-config-vars-in-heroku">here</a> on how to edit the variables).</p>
<p></br></p>
<h3 id="im-seeing-a-message-about-authentication-failures">I'm seeing a message about authentication failures<a class="headerlink" href="#im-seeing-a-message-about-authentication-failures" title="Permanent link">⌁</a></h3>
<p><img src="../img/Security06.png" style="zoom:50%;" /></p>
<p>This is highly likely caused by you having installed an app on some device with the wrong API_SECRET or access token, and the app trying to authenticate to your Nightscout, or you or one of the family members have just tried to sign into Nightscout with wrong credentials.</p>
<p>If you have apps running that use the Nightscout REST API, check you have the correct API_SECRET and/or access token configured to each.</p>
<p>If the message keeps appearing unexpectedly or is reported against multiple IP numbers, it's possible someone is trying to brute force attack your installation and guess your API_SECRET to be able to modify data in your Nightscout. In this situation, we highly recommend you rename the Nightscout site in Heroku to change it's address and pick a name that's hard to guess.</p>
<p></br></p>
<h3 id="im-seeing-a-message-nightscout-is-readable-by-the-world">I'm seeing a message Nightscout is readable by the world<a class="headerlink" href="#im-seeing-a-message-nightscout-is-readable-by-the-world" title="Permanent link">⌁</a></h3>
<p><img src="../img/Security05.png" style="zoom:50%;" /></p>
<p>This means the site shows the CGM data to users who can guess the site address without authentication. Note Nightscout never allows data to be saved or edited without authentication, so this is not necessarily a problem depending on how hard your site address is to guess and how you want the information to be shared.</p>
<p>If you want to have the site require authentication, read the "How to Turn Off Unauthorized Access" section below.</p>
<p></br></p>
<h2 id="renaming-the-nightscout-site">Renaming the Nightscout site<a class="headerlink" href="#renaming-the-nightscout-site" title="Permanent link">⌁</a></h2>
<p>If you're using <a href="https://dashboard.heroku.com/apps">Heroku</a> you can rename your Nightscout site URL in your app <code>Settings</code>.</p>
<p>Once done, make sure all apps (uploaders and downloaders) are updated accordingly,</p>
<p><img src="../img/Security01.png" style="zoom:80%;" /></p>
<p></br></p>
<h2 id="how-to-turn-off-unauthorized-access">How to Turn Off Unauthorized Access<a class="headerlink" href="#how-to-turn-off-unauthorized-access" title="Permanent link">⌁</a></h2>
<div class="admonition warning">
<p class="admonition-title">Privacy warning</p>
<p>In a default setup, <strong>anyone</strong> with your Nightscout URL can view your site.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure <a href="../downloaders">the app you use to see your data</a> can handle a secured Nightscout site.</p>
</div>
<p>To Take Advantage of Roles, Turn Off Unauthorized Access to Your Site:</p>
<p>If you want to ensure that ONLY someone with permission to view your site (e.g., a token) is able to view the data, you should configure the <a href="../setup_variables/#auth_default_roles"><code>AUTH_DEFAULT_ROLES</code></a> variable in Heroku. Set the value as: <code>denied</code>.</p>
<p><a href="../setup_variables/#editing-config-vars-in-heroku">Edit</a> (or add) your variable in Heroku and set it to <code>denied</code>.</p>
<p><img src="../img/Admin03.png" style="zoom:100%;" /></p>
<p></br></p>
<p>This creates a scenario in which a token will be required for all access (even only view).</p>
<p><img src="../img/Admin02.png" style="zoom:80%;" /></p>
<p></br></p>
<h2 id="create-authentication-tokens-for-users">Create Authentication Tokens for Users<a class="headerlink" href="#create-authentication-tokens-for-users" title="Permanent link">⌁</a></h2>
<div class="admonition note">
<p class="admonition-title">Note: authentication tokens are also called access tokens</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Changing <a href="../setup_variables/#api_secret"><code>API_SECRET</code></a></p>
<p>If you change your <code>API_SECRET</code> all your tokens will change. Make sure you update your devices and send the new token link to those you allowed to access your Nightscout</p>
</div>
<p>To access the Authentication options, click the settings panel (three horizontal bars in the top right) in your website and select Admin Tools. The Authentication options are at the top of the Admin page. (Note: you must be logged in with your <code>API SECRET</code> to access these tools.)</p>
<p><img src="../img/Admin04.png" style="zoom:80%;" /></p>
<p></br></p>
<p>You will see several predefined roles:</p>
<p><img src="../img/Admin01.png" style="zoom:80%;" /></p>
<p></br></p>
<h4 id="roles">Roles<a class="headerlink" href="#roles" title="Permanent link">⌁</a></h4>
<ul>
<li><strong><code>admin</code></strong>: full access</li>
<li><strong><code>careportal</code></strong>: can view the site and make CarePortal/treatment entries</li>
<li><strong><code>readable</code></strong>: read-only access; no ability to make CarePortal/treatment entries. This user CAN see reports and profile information.</li>
<li><strong><code>denied</code></strong>: no access (this role only works if the <code>AUTH_DEFAULT_ROLES</code> setting is also <code>denied</code>. You can’t have a site that is readable to everyone and create a “denied” token for a specific user.)</li>
<li><strong><code>devicestatus-upload</code></strong>: used by devices</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is currently no way to limit a user so that he cannot view the Reports section if he has access to the site. Time/date-based roles are not currently possible.</p>
</div>
<p></br></p>
<h3 id="create-a-token">Create a Token<a class="headerlink" href="#create-a-token" title="Permanent link">⌁</a></h3>
<ul>
<li>Click the “Add New Subject” button.</li>
</ul>
<p><img src="../img/Admin00.png" style="zoom:80%;" /></p>
<p></br></p>
<ul>
<li>Fill in the name of the subject and the “role” you are giving this subject (from the list of roles shown above). Note you should only grant the <code>readable</code> role for users who do not need to save or edit data in Nightscout. For example, you might want to share the site to a school nurse, but not have him able edit the data.</li>
</ul>
<p><img src="../img/Admin05.png" style="zoom:80%;" /></p>
<p></br></p>
<ul>
<li>Click save.</li>
<li>The token will be shown. You can use it in two different ways:</li>
<li>Copy the token URL (right-click on it in the browser and select the option to copy the link address) and provide it to the user (e.g., paste it into an email). If the user enters the entire URL (with token), the token will be in effect. </li>
<li>Copy the token string (in the example below <code>school-a595d5f0aeff64c0</code>) and use it for authentication at site opening, instead of the API secret (Nightscout minimum version 14.1.0 required).</li>
</ul>
<p><img src="../img/Admin06.png" style="zoom:80%;" /></p>
<p></br></p>
<p>You can also add the token to the site URL to authenticate using a token. Your site link with token will look like this:</p>
<p><code>https://yoursitename.herokuapp.com/?token=school-a595d5f0aeff64c0</code></p>
<p>Anybody with this link can use your Nightscout with the role defined for this token.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the user copies only your core URL into a browser, and your site is readable by default, the token will be bypassed. (Possible strategies to ensure the user puts the role-based URL into a browser include using a tinyurl or bit.ly.)</p>
</div>
<ul>
<li>You can edit a subject by clicking the edit icon, making changes, and saving.</li>
<li>You can delete a subject by clicking the “x” icon to remove the subject from the list.</li>
</ul>
<p></br></p>
<h2 id="developers-api-authorization">Developers: API authorization<a class="headerlink" href="#developers-api-authorization" title="Permanent link">⌁</a></h2>
<p>See <a href="https://github.com/nightscout/cgm-remote-monitor/wiki/API-v1-Security">this page</a> for how to authenticate your app in the API calls.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../discover/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Discover your site" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Discover your site
            </div>
          </div>
        </a>
      
      
        
        <a href="../reports/" class="md-footer__link md-footer__link--next" aria-label="Next: Reports" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Reports
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.top", "search.suggest", "search.highlight", "content.code.annotate"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.fcfe8b6d.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.b1047164.min.js"></script>
      
    
  </body>
</html>