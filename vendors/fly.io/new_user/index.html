
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../../NS-logo-std.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.6">
    
    
      
        <title>Fly.io - Nightscout</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.a57b2b03.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../css/admonitions.css">
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#flyio-nightscout" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Nightscout" class="md-header__button md-logo" aria-label="Nightscout" data-md-component="logo">
      
  <img src="../../../NS-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Nightscout
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Fly.io
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        Introduction
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../nightscout/new_user/" class="md-tabs__link md-tabs__link--active">
        DIY Nightscout
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../nightscout/setup_variables/" class="md-tabs__link">
        Configure
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../nightscout/discover/" class="md-tabs__link">
        Use
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../update/update/" class="md-tabs__link">
        Update
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../troubleshoot/troubleshoot/" class="md-tabs__link">
        Troubleshoot
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../translate/" class="md-tabs__link">
      Translation
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Nightscout" class="md-nav__button md-logo" aria-label="Nightscout" data-md-component="logo">
      
  <img src="../../../NS-logo.png" alt="logo">

    </a>
    Nightscout
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Introduction" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        What is Nightscout?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../uploader/uploaders/" class="md-nav__link">
        How do I upload my data?
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          DIY Nightscout
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="DIY Nightscout" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          DIY Nightscout
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nightscout/new_user/" class="md-nav__link">
        Classic DIY Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nightscout/github/" class="md-nav__link">
        GitHub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../mongodb/atlas/" class="md-nav__link">
        MongoDB Atlas database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../azure/new_user/" class="md-nav__link">
        Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../azure/migrate/" class="md-nav__link">
        Migrate to Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../heroku/new_user/" class="md-nav__link">
        Heroku Hobby plan
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../railway/new_user/" class="md-nav__link">
        Railway (method 1)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../railway/new_user2/" class="md-nav__link">
        Railway (method 2)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../railway/migration/" class="md-nav__link">
        Migration to Railway
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Fly.io
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Fly.io
      </a>
      
        


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-1-create-a-github-account-and-fork-the-nightscout-project" class="md-nav__link">
    Step 1: Create a GitHub account and fork the Nightscout project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-download-flyio-command-line-interface-cli" class="md-nav__link">
    Step 2: Download fly.io Command Line Interface (CLI)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-create-a-flyio-account" class="md-nav__link">
    Step 3: Create a fly.io account
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-create-an-atlas-account" class="md-nav__link">
    Step 4: Create an Atlas account
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-locally-fork-and-deploy-cgm-remote-monitor" class="md-nav__link">
    Step 5: Locally fork and deploy cgm-remote-monitor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-setting-variables" class="md-nav__link">
    Step 6: Setting Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-nightscout-application-configuration" class="md-nav__link">
    Step 7: Nightscout Application Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-8-uploader-setup" class="md-nav__link">
    Step 8: Uploader setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#editing-config-vars-in-flyio" class="md-nav__link">
    Editing Config Vars in Fly.io
  </a>
  
    <nav class="md-nav" aria-label="Editing Config Vars in Fly.io">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#env-variables" class="md-nav__link">
    Env variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secrets" class="md-nav__link">
    Secrets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrate/" class="md-nav__link">
        Migration to Fly.io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../northflank/new_user/" class="md-nav__link">
        Northflank
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../northflank/migrate/" class="md-nav__link">
        Migration to Northflank
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../oracle/new_user/" class="md-nav__link">
        Oracle Cloud
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../google/new_user/" class="md-nav__link">
        Google Cloud
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../MVPS/new_user/" class="md-nav__link">
        MVPS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../digitalocean/new_user/" class="md-nav__link">
        Digital Ocean
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../synology/new_user/" class="md-nav__link">
        Synology NAS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../T1Pal/new_user/" class="md-nav__link">
        NSaaS - T1Pal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../10BE/" class="md-nav__link">
        NSaaS - NS10BE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Configure
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configure" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Configure
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nightscout/setup_variables/" class="md-nav__link">
        Configure your Nightscout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../uploader/setup/" class="md-nav__link">
        Configure your Uploader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../uploader/xdripcarelink/" class="md-nav__link">
        xDrip+ CareLink bridge
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nightscout/downloaders/" class="md-nav__link">
        Follower Devices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nightscout/wearable/" class="md-nav__link">
        Nightscout on your watch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nightscout/multiadmin/" class="md-nav__link">
        Running multiple sites
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nightscout/close_loop/" class="md-nav__link">
        Closed-loop Systems
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Use
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Use" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Use
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nightscout/discover/" class="md-nav__link">
        Discover your site
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nightscout/security/" class="md-nav__link">
        Secure your site
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nightscout/reports/" class="md-nav__link">
        Reports
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nightscout/profile_editor/" class="md-nav__link">
        Profile Editor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nightscout/admin_tools/" class="md-nav__link">
        Admin Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nightscout/pushover/" class="md-nav__link">
        Remote Notifications
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Update
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Update" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Update
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../update/update/" class="md-nav__link">
        Updating your site
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../update/redeploy/" class="md-nav__link">
        Redeploying
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../update/dev_branch/" class="md-nav__link">
        Deploy another GitHub branch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../heroku/hobbyplan/" class="md-nav__link">
        Heroku Hobby plan upgrade
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../update/upd_stack/" class="md-nav__link">
        Heroku Stack Update
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../heroku/" class="md-nav__link">
        Heroku Multiple Factor Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../update/downgrade/" class="md-nav__link">
        Heroku Downgrade
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Troubleshoot
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Troubleshoot" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Troubleshoot
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshoot/troubleshoot/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshoot/github/" class="md-nav__link">
        GitHub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshoot/heroku/" class="md-nav__link">
        Heroku
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshoot/railway/" class="md-nav__link">
        Railway
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshoot/northflank/" class="md-nav__link">
        Northflank
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshoot/fly.io/" class="md-nav__link">
        Fly.io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshoot/atlas/" class="md-nav__link">
        MongoDB Atlas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshoot/dexcom_bridge/" class="md-nav__link">
        Dexcom bridge
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshoot/cleanup/" class="md-nav__link">
        Cleanup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../translate/" class="md-nav__link">
        Translation
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-1-create-a-github-account-and-fork-the-nightscout-project" class="md-nav__link">
    Step 1: Create a GitHub account and fork the Nightscout project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-download-flyio-command-line-interface-cli" class="md-nav__link">
    Step 2: Download fly.io Command Line Interface (CLI)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-create-a-flyio-account" class="md-nav__link">
    Step 3: Create a fly.io account
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-create-an-atlas-account" class="md-nav__link">
    Step 4: Create an Atlas account
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-locally-fork-and-deploy-cgm-remote-monitor" class="md-nav__link">
    Step 5: Locally fork and deploy cgm-remote-monitor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-setting-variables" class="md-nav__link">
    Step 6: Setting Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-nightscout-application-configuration" class="md-nav__link">
    Step 7: Nightscout Application Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-8-uploader-setup" class="md-nav__link">
    Step 8: Uploader setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#editing-config-vars-in-flyio" class="md-nav__link">
    Editing Config Vars in Fly.io
  </a>
  
    <nav class="md-nav" aria-label="Editing Config Vars in Fly.io">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#env-variables" class="md-nav__link">
    Env variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secrets" class="md-nav__link">
    Secrets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="flyio-nightscout">Fly.io Nightscout<a class="headerlink" href="#flyio-nightscout" title="Permanent link">⌁</a></h1>
<p><span style="font-size:smaller;"><strong>APPLIES TO:</strong></span> <img src="../../../vendors/img/flyio-logo.png" style="zoom:60%;" />+<img src="../../../vendors/img/Atlas.png" style="zoom:80%;" /></p>
<div class="admonition info">
<p class="admonition-title">Cost</p>
</div>
<p>Nightscout is expected to run without charges in the <a href="https://fly.io/docs/about/pricing/#free-tier">free tier</a>.<br />
Most operations involve CLI and are rather complex for the non-technical user. </p>
<p><span style="font-size:larger;">Consider <a href="/#nightscout-as-a-service">Nightscout as a service</a> as an option.</span></p>
<p></br></p>
<h2 id="step-1-create-a-github-account-and-fork-the-nightscout-project">Step 1: Create a GitHub account and fork the Nightscout project<a class="headerlink" href="#step-1-create-a-github-account-and-fork-the-nightscout-project" title="Permanent link">⌁</a></h2>
<p>If you already have a GitHub account, <a href="../../../nightscout/github/#update-your-nightscout-fork">update</a> your Nightscout project.</p>
<p>If you don't have a GitHub account <a href="../../../nightscout/github/#create-a-github-account">create one</a> then <a href="../../../nightscout/github/#fork-the-nightscout-project">fork the Nightscout project</a> and come back.</p>
<p></br></p>
<h2 id="step-2-download-flyio-command-line-interface-cli">Step 2: Download fly.io Command Line Interface (CLI)<a class="headerlink" href="#step-2-download-flyio-command-line-interface-cli" title="Permanent link">⌁</a></h2>
<p>Fly.io is mainly managed through a command line interface (CLI). The first step will be installing the CLI <a href="https://fly.io/docs/flyctl/installing/">which is documented here</a>. </p>
<p><br></p>
<h2 id="step-3-create-a-flyio-account">Step 3: Create a fly.io account<a class="headerlink" href="#step-3-create-a-flyio-account" title="Permanent link">⌁</a></h2>
<p>a) <code>flyct auth signup</code> will begin the signup process, alternatively go to <a href="https://fly.io/app/sign-up">https://fly.io/app/sign-up</a> to login.<br />
Sign up with Github.</p>
<p></br></p>
<p>b) Authorize Fly.io for GitHub:</p>
<p><img src="../img/fly.io-github-auth.png" style="zoom:80%;" /></p>
<p></br></p>
<p>c) You don't need to input card information to get Nightscout running so click the <code>Try fly.io for free</code> button:</p>
<p><img src="../img/try-fly.io-free.png" style="zoom:80%;" /></p>
<p></br></p>
<h2 id="step-4-create-an-atlas-account">Step 4: Create an Atlas account<a class="headerlink" href="#step-4-create-an-atlas-account" title="Permanent link">⌁</a></h2>
<p>Follow <a href="../../../vendors/mongodb/atlas/#create-an-atlas-database">these steps</a> and come back with your <code>MONGODB_URI</code> connection string.</p>
<p></br></br></p>
<h2 id="step-5-locally-fork-and-deploy-cgm-remote-monitor">Step 5: Locally fork and deploy cgm-remote-monitor<a class="headerlink" href="#step-5-locally-fork-and-deploy-cgm-remote-monitor" title="Permanent link">⌁</a></h2>
<p>a) Clone the <code>cgm-remote-monitor</code> repository locally:</p>
<p>If necessary install <a href="https://git-scm.com/downloads">Git</a> on your computer (pick your own OS in Downloads).</p>
<p>Open a PowerShell (Windows) or a terminal (OSX/Linux), and type (replace <code>yourGitHubNameHere</code> by your own GitHub account name):</p>
<pre><code>git clone https://github.com/yourGitHubNameHere/cgm-remote-monitor
</code></pre>

<p><img src="../img/FlyIO01.png" style="zoom:80%;" /></p>
<p></br></p>
<p>b) Navigate to the directory where you code has been cloned locally</p>
<pre><code>cd cgm-remote-monitor
</code></pre>

<p></br></p>
<p>c) Download this <a href="../fly.toml"><code>fly.toml</code></a> deployment file and save it/copy it into your <code>cgm-remote-monitor</code> folder.</p>
<p></br></p>
<h2 id="step-6-setting-variables">Step 6: Setting Variables<a class="headerlink" href="#step-6-setting-variables" title="Permanent link">⌁</a></h2>
<p>Open the <code>fly.toml</code> configuration file in your <code>cgm-remote-monitor</code> folder and customize it.</p>
<p>a) <code>API_SECRET</code> will be your Nightscout site password, it needs to be at least 12 characters long and you should <strong>NOT use spaces</strong> if you use @ or ! symbols remember you will probably need to express them using <a href="https://en.wikipedia.org/wiki/Percent-encoding#Percent-encoding_reserved_characters">Percent encoding</a> in your uploader and downloader apps. If you're not sure on how to do this, it is recommended to use only letters (uppercase + lowercase) and digits.</p>
<div class="admonition warning">
<p class="admonition-title">The API_SECRET is the <strong>main password allowing full access to your Nightscout site</strong>. Make sure it's reasonably secure (mix uppercase and lowercase letters, plus digits) and <strong>do no not share it publicly</strong>. If you think you exposed it by mistake, it is recommended that you <strong>change it</strong>.</p>
</div>
<p></br></p>
<p>b) Set the units to use for Nightscout where acceptable choices are <code>mg/dl</code> or <code>mmol/L</code> (or just <code>mmol</code>). </p>
<p></br></p>
<p>c) Now you need the connection string you defined during the Atlas cluster creation (as the example below, but not the string below).</p>
<p>Make sure it looks like this one below and NOTE: THERE ARE NO &lt; AND &gt; CHARACTERS:</p>
<p><code>MONGODB_URI="mongodb+srv://nightscout:soo5ecret@cluster0.xxxxx.mongodb.net/mycgmic?retryWrites=true&amp;w=majority"</code></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Ensure you have <code>" "</code> surrounding your URI to make sure all of it is captured within the variable.</p>
</div>
<p></br></p>
<p>d) If you want to link your Dexcom Share account as a data source, complete the following lines: <code>BRIDGE_USER_NAME</code>, <code>BRIDGE_PASSWORD</code> and <code>BRIDGE_SERVER</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you use a DIY closed loop system it is recommended that you let it upload to Nightscout instead of importing using Dexcom Share and the <code>bridge</code> plugin.</p>
</div>
<p></br></p>
<div class="admonition info">
<p class="admonition-title">MOST COMMON ERRORS</p>
<p>The most common error on initial Nightscout setups is that people incorrectly use an old account or an old password. To test your username and password, go to Dexcom's Clarity page (check <a href="https://clarity.dexcom.com">here for USA accounts</a> and <a href="https://clarity.dexcom.eu">here for the others</a>) and try logging in to your Dexcom account. If your account info isn't valid, or you don't see any data in your Clarity account... you need to figure out your actual credentials before moving ahead. See <a href="../../../troubleshoot/dexcom_bridge/">here</a> for troubleshooting tips and information on your Dexcom account.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Password</p>
<p><em>Some people have had problems with their bridge connecting when their Dexcom passwords are entirely numeric. If you have connection issues in that case, try changing your password to something with a mix of numbers and letters.</em></p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>You need to have at least one follower to use Dexcom Share. See <a href="../../../uploader/setup/#dexcom">here</a>.</p>
</div>
<p></br></p>
<p>e) For the ENABLE variable, copy and paste the following words (separated by a space) so that won't have to think about which you want now:</p>
<p><code>careportal basal dbsize rawbg iob maker cob bwp cage iage sage boluscalc pushover treatmentnotify loop pump profile food openaps bage alexa override speech cors</code></p>
<p>If you are using your Dexcom share account as a data source also add bridge at the end, after a space like this:</p>
<p><code>careportal basal dbsize rawbg iob maker cob bwp cage iage sage boluscalc pushover treatmentnotify loop pump profile food openaps bage alexa override speech cors bridge</code></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Ensure you have <code>" "</code> surrounding your words to make sure all of it is captured within the variable.</p>
</div>
<p></br></p>
<p>f) You can customize other variables or leave default values.</p>
<p></br></p>
<p>g) You can now deploy your site with Fly.io.<br />
Type the following command:</p>
<pre><code>flyctl launch
</code></pre>

<p></br></p>
<p>To the question <code>Would you like to copy its configuration to the new app?</code> answer <code>Y</code> (yes). </p>
<p>To the question: <code>App Name (leave blank to use an auto-generated name):</code> answer with the same same you've put in the <code>fly.toml</code> file in the top line <code>app = ""</code>.</p>
<p>To the question  <code>Select region:</code> select the region closer to where you live (using the up and down arrows).</p>
<p><img src="../img/FlyIO03.png" style="zoom:80%;" /></p>
<p>To the question <code>Would you like to deploy now?</code> answer <code>Y</code> (yes). </p>
<p><img src="../img/FlyIO02.png" style="zoom:80%;" /></p>
<p></br></p>
<p>Deploy will take some time. Do not interrupt the process.</p>
<p><img src="../img/FlyIO04.png" style="zoom:80%;" /></p>
<p></br></p>
<p>If you see the following text:</p>
<pre><code> 1 desired, 1 placed, 1 healthy, 0 unhealthy [health checks: 1 total, 1 passing]
</code></pre>

<p>You have successfully deployed Nightscout in Fly.io. Congratulations.</p>
<p>If you see an unhealthy condition, check your <code>fly.toml</code> configuration (for missing " " for example) and type:</p>
<pre><code>flyctl deploy
</code></pre>

<p></br></p>
<h2 id="step-7-nightscout-application-configuration">Step 7: Nightscout Application Configuration<a class="headerlink" href="#step-7-nightscout-application-configuration" title="Permanent link">⌁</a></h2>
<p>a) Once your site has processed the variables and redeployed itself it will be ready to use. In your fly.io dashboard click on the application (not the builder):</p>
<p><img src="../img/fly.io-dashboard.png" style="zoom:80%;" /></p>
<p></br></p>
<p>b) Inside your app you should see that it is running and has a clickable hostname.</p>
<p><img src="../img/fly.io-application-dashboard.png" style="zoom:80%;" /></p>
<p></br></p>
<p>c) Your Nightscout site should now be ready to open and direct you to a new profile creation.</p>
<p><img src="../../../nightscout/img/NewNS50.png" style="zoom:100%;" /></p>
<p></br></p>
<p>d) Setup your <code>Time zone</code> and eventually all other fields. Do not leave any fields empty. If you don't know which value to use, just use the default value. You can change these values later at any time.</p>
<p><img src="../../../nightscout/img/NewNS44.png" style="zoom:80%;" /></p>
<p></br></p>
<p>e) Browse down to <code>Authentication status</code> and click <code>Authenticate</code>. Enter your API secret. Click <code>Update</code>.</p>
<p><img src="../../../nightscout/img/NewNS45.png" style="zoom:80%;" /></p>
<p></br></p>
<p>f) Click <code>Save</code>.</p>
<p><img src="../../../nightscout/img/NewNS46.png" style="zoom:80%;" /></p>
<p></br></p>
<p>g) If the following pop-up shows up click <code>OK</code>, and check status (upper right of the window).</p>
<p><img src="../../../nightscout/img/NewNS47.png" style="zoom:80%;" /></p>
<p></br></p>
<p>h) If you need to modify your profile after this, authenticate with the lock icon (top right of the page): enter your API secret. Then click on the hamburger menu and select <code>Profile Editor</code>.</p>
<p><img src="../../../nightscout/img/NewNS43.png" style="zoom:80%;" /></p>
<p></br></p>
<div class="admonition warning">
<p class="admonition-title">Privacy warning</p>
<p>Anyone with access to the URL of your Nightscout site, can view your BG and run reports of your data. It it strongly recommended that you enable <a href="../../../nightscout/security">security</a> to your site once you're done with the setup.  </p>
</div>
<p></br></p>
<p>i) Dexcom Share users should see data flowing in after some minutes. Other uploaders like xDrip+, Spike, xDrip4iOS, etc will need to be setup with the Nightscout address and API secret in the app.</p>
<p><img src="../../../nightscout/img/NewNS48.png" style="zoom:80%;" /></p>
<p></br></br></p>
<h2 id="step-8-uploader-setup">Step 8: Uploader setup<a class="headerlink" href="#step-8-uploader-setup" title="Permanent link">⌁</a></h2>
<p></br></p>
<p>Continue to <a href="../../../uploader/setup/">uploader</a> setup.</p>
<p></br></p>
<p></br></p>
<h2 id="editing-config-vars-in-flyio">Editing Config Vars in Fly.io<a class="headerlink" href="#editing-config-vars-in-flyio" title="Permanent link">⌁</a></h2>
<p></br></p>
<p>You will find your Nightscout variables under different forms depending on your deployment method.</p>
<p>If you migrated using the wizard, they will be secrets.</p>
<p>If you deployed a new site as explained in this documentation they will be environment variables.</p>
<p></br></p>
<h3 id="env-variables">Env variables<a class="headerlink" href="#env-variables" title="Permanent link">⌁</a></h3>
<p>Environment variables can be viewed with <a href="https://fly.io/docs/hands-on/install-flyctl">flyctl</a> using the following command:</p>
<pre><code>flyctl config env
</code></pre>

<p>If you want to modify a configuration variable you need to edit the <code>fly.toml</code> file in your local <code>cgm-remote-monitor</code> copy (the one you created at <a href="#step-6-setting-variables">step 6</a> above).</p>
<p>Once variable(s) modified, save the file and run the following command (from inside your <code>cgm-remote-monitor</code>).</p>
<pre><code>flyctl deploy
</code></pre>

<p></br></p>
<h3 id="secrets">Secrets<a class="headerlink" href="#secrets" title="Permanent link">⌁</a></h3>
<p>Your variables are stored as secrets if you used the migration wizard.</p>
<div class="admonition warning">
<p class="admonition-title">Secrets</p>
<p>You <strong>cannot see the values of your secret variables as they are secret</strong>.<br />
You can only delete them and set them: you <strong>cannot edit them</strong>.<br />
Please make sure you write them down somewhere!</p>
</div>
<p></br></p>
<p><strong>Once Nightscout deployed, you need to install <a href="https://fly.io/docs/hands-on/install-flyctl/">flyctl</a> to access your variables in order to change or customize your site.</strong>
Variables are described <a href="../../../nightscout/setup_variables/#nightscout-config-vars">here</a>.</p>
<p><a href="https://fly.io/docs/hands-on/sign-in/">Sign in with GitHub</a> in your CLI interface (Powershell/Terminal).<br />
A new browser will open. Select the entry with your email address.<br />
If required, authenticate through GitHub.</p>
<p><img src="../img/FlyM16.png" style="zoom:80%;" /></p>
<p></br></p>
<p>Fly.io variables are named <code>Secrets</code> and you cannot visualize them.<br />
Look <a href="https://fly.io/docs/getting-started/working-with-fly-apps/#working-with-secrets">here</a> for more details.</p>
<p></br></p>
<p>If you want to create a new variable or modify an existing one you need to use the <code>flyctl secrets set</code> command.<br />
For example if you want to set your Nightscout site vertical scale to linear:</p>
<pre><code>flyctl secrets set SCALE_Y=&quot;linear&quot; -a yourappname
</code></pre>

<p>If your <code>SCALE_Y</code> variable was already set to <code>linear</code> you will see the following message:<br />
<code>Error No change detected to secrets. Skipping release.</code></p>
<p>When changing a variable, the app will automatically redeploy. You will see this sequence (it will take a few minutes):</p>
<pre><code>Release v1 created
==&gt; Monitoring deployment

 1 desired, 1 placed, 1 healthy, 0 unhealthy [health checks: 1 total, 1 passing]
--&gt; v1 deployed successfully
</code></pre>

<p></br></p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../../railway/migration/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Migration to Railway" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Migration to Railway
            </div>
          </div>
        </a>
      
      
        
        <a href="../migrate/" class="md-footer__link md-footer__link--next" aria-label="Next: Migration to Fly.io" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Migration to Fly.io
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.top", "search.suggest", "search.highlight", "content.code.annotate"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.fcfe8b6d.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.b1047164.min.js"></script>
      
    
  </body>
</html>